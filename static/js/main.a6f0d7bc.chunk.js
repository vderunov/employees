(this.webpackJsonpemployees=this.webpackJsonpemployees||[]).push([[0],{38:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),o=n(6),u=n.n(o),s=n(7),l=n(15),i=n(3),p=n(9),h=(n(38),n(25)),d=n.n(h),j="ADD_SELECTED_EMPLOYEE",b="GET_EMPLOYEE_FROM_LOCALSTORAGE",f="SAVE_CHECKED_INPUT",m=n(26),O=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],v=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},g=function(e){return JSON.parse(localStorage.getItem(e))},x=function(e,t){for(var n=[],r={},c=e.length-1,a=0;a<=c;a++)r[e[a][t]]=e[a];for(var o in r)n.push(r[o]);return n},E=function(e,t){return Object(i.a)(Object(i.a)({},e),t)},C=function(e){var t=e.id,n=e.handleChange;return Object(r.jsx)("input",{type:"checkbox",name:t,onChange:function(e){return n(e,t)}})},N=function(e){var t=e.lastName,n=e.firstName,c=e.fullBirthDate,a=c?"- ".concat(c):null;return Object(r.jsx)("li",{className:"employeeWrapper",children:Object(r.jsxs)("p",{children:[t," ",n," ",a]})})},S=function(e){var t,n=e.letter,a=e.employeesByLetter,o=Object(c.useContext)(k).handleChange;return t=a.length>=1?a.map((function(e){var t=e.id;return Object(r.jsxs)("ul",{className:"name_wrapper",children:[Object(r.jsx)(N,Object(i.a)({},e)),Object(r.jsx)(C,{id:t,handleChange:o})]},t)})):Object(r.jsx)("span",{children:"----"}),Object(r.jsxs)("div",{className:"letter_wrapper",children:[Object(r.jsx)("p",{children:n}),t]})},I=function(e){var t=e.employees,n=y[t[0].monthIndex],c=t.map((function(e){return Object(r.jsx)(N,Object(i.a)({},e),e.id)}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{className:"month",children:n}),Object(r.jsx)("ul",{className:"birthday_wrapper",children:c})]})},k=Object(c.createContext)();var w=Object(p.b)((function(e){return{bdayEmployees:e.bdayEmployees,checkedInputs:e.checkedInputs}}),(function(e){return{onAddedSelectedEmployee:function(t){return e(function(e){return{type:j,employee:e}}(t))},onGetEmployeeFromLocalStorage:function(t){return e(function(e){return{type:b,employee:e}}(t))},onSaveCheckedInput:function(t){return e(function(e){return{type:f,input:e}}(t))}}}))((function(e){var t=e.onAddedSelectedEmployee,n=e.bdayEmployees,a=e.onGetEmployeeFromLocalStorage,o=e.onSaveCheckedInput,u=e.checkedInputs,i=Object(c.useState)([]),p=Object(l.a)(i,2),h=p[0],j=p[1],b=Object(c.useState)([]),f=Object(l.a)(b,2),y=f[0],x=f[1],E=Object(c.useRef)([]),C=Object(c.useRef)([]);Object(c.useEffect)((function(){var e;(e="https://yalantis-react-school-api.yalantis.com/api/task0/users",d.a.get(e).then((function(e){return e.data})).catch((function(e){return console.error(e)}))).then((function(e){return x(e)}));var t=g("bdayEmployees")||[],n=g("checkedInputs");E.current=t.filter((function(e){return 0!==e.length})).flat().slice(),o(n),a(t)}),[a,o]),Object(c.useEffect)((function(){var e;C.current.length<=0&&(C.current=(e="input",document.querySelectorAll(e))),function(e,t){if(0!==e.length)for(var n in t){var r,c=Object(m.a)(e);try{for(c.s();!(r=c.n()).done;){var a=r.value;n===a.name&&(a.checked=!0)}}catch(o){c.e(o)}finally{c.f()}}}(C.current,u)})),Object(c.useEffect)((function(){var e,t=function(e){return e.sort((function(e,t){return e.lastName.toLowerCase()<t.lastName.toLowerCase()?-1:e.lastName.toLowerCase()>t.lastName.toLowerCase()?1:0}))}(y),n=(e=t,O.map((function(t){for(var n=[],r=e.length-1,c=0;c<=r;c++)e[c].lastName[0].toLowerCase()===t&&n.push(e[c]);return n})));j(n)}),[y]),Object(c.useEffect)((function(){v("bdayEmployees",n),v("checkedInputs",u)}),[n,u]);var N=h.map((function(e,t){var n=O[t].toUpperCase();return Object(r.jsx)(S,{letter:n,employeesByLetter:e},t.toString())})),w=Object(c.useMemo)((function(){return n.map((function(e,t){return e.length>=1?Object(r.jsx)(I,{month:t,employees:e},t.toString()):null}))}),[n]),L=0===w.length?Object(r.jsx)("p",{className:"no_selected",children:"No selected employees"}):w;return Object(r.jsxs)("div",{className:"main_wrapper",children:[Object(r.jsx)(k.Provider,{value:{handleChange:function(e,n){var r=e.target,c="checkbox"===r.type?r.checked:r.value,a=Object(s.a)({},r.name,c);o(a);var u=y.find((function(e){return e.id===n}));E.current.push(u);var l,i=1===(l=E.current).length?l:l.filter((function(e,t,n){return n.indexOf(e)===t}));t(i)}},children:Object(r.jsxs)("section",{className:"section_wrapper",children:[Object(r.jsx)("h3",{children:"Employees"}),Object(r.jsx)("div",{className:"alphabetical_wrapper",children:N})]})}),Object(r.jsxs)("section",{className:"section_wrapper",children:[Object(r.jsx)("h3",{children:"Employees birthday"}),Object(r.jsx)("hr",{}),L]})]})})),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},_=n(8),D=n(10),A={bdayEmployees:[],checkedInputs:null},F=function(e){var t=new Array(12).fill([]);return e.forEach((function(e){var n=function(e){var t=new Date(e.dob),n=t.getFullYear(),r=t.getMonth(),c=t.getDate(),a=y[r];return{monthIndex:r,fullBirthDate:"".concat(c," ").concat(a,", ").concat(n," year")}}(e),r=n.monthIndex,c=n.fullBirthDate,a=Object(i.a)(Object(i.a)({},e),{},{fullBirthDate:c,monthIndex:r});t[r]=[].concat(Object(D.a)(t[r]),[a])})),t},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var n=x(t.employee,"id");return E(e,{bdayEmployees:Object(D.a)(F(n))});case b:return E(e,{bdayEmployees:Object(D.a)(t.employee)});case f:return E(e,{checkedInputs:Object(i.a)(Object(i.a)({},e.checkedInputs),t.input)});default:return e}},M=Object(_.b)(B);u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(p.a,{store:M,children:Object(r.jsx)(w,{})})}),document.getElementById("root")),L()}},[[56,1,2]]]);
//# sourceMappingURL=main.a6f0d7bc.chunk.js.map